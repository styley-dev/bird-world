<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Bird World - Explore the Skies</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            overflow: hidden;
        }

        #gameContainer {
            position: relative;
            border: 4px solid #fff;
            border-radius: 10px;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
            background: #87CEEB;
        }

        canvas {
            display: block;
            background: linear-gradient(to bottom, #87CEEB 0%, #98D8C8 100%);
        }

        #ui {
            position: absolute;
            top: 10px;
            left: 10px;
            color: white;
            font-size: 16px;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.5);
            z-index: 10;
            background: rgba(0, 0, 0, 0.3);
            padding: 10px;
            border-radius: 10px;
        }

        #minimap {
            position: absolute;
            top: 10px;
            right: 10px;
            width: 200px;
            height: 150px;
            border: 2px solid white;
            border-radius: 5px;
            background: rgba(0, 0, 0, 0.5);
            z-index: 10;
        }

        #instructions {
            position: absolute;
            bottom: 10px;
            left: 50%;
            transform: translateX(-50%);
            color: white;
            font-size: 14px;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.5);
            text-align: center;
            background: rgba(0, 0, 0, 0.5);
            padding: 10px 20px;
            border-radius: 10px;
            z-index: 10;
        }
    </style>
</head>
<body>
    <div id="gameContainer">
        <div id="ui">
            <div>Score: <span id="score">0</span></div>
            <div>Area: <span id="area">Sky</span></div>
            <div>Seeds: <span id="seeds">0</span></div>
        </div>
        <canvas id="minimap"></canvas>
        <canvas id="gameCanvas"></canvas>
        <div id="instructions">
            <div>Arrow Keys / WASD: Move | Space: Speed Boost</div>
            <div>Explore different areas and collect seeds!</div>
        </div>
    </div>

    <script>
        const canvas = document.getElementById('gameCanvas');
        const ctx = canvas.getContext('2d');
        const minimapCanvas = document.getElementById('minimap');
        const minimapCtx = minimapCanvas.getContext('2d');
        
        // Set canvas size
        canvas.width = 1200;
        canvas.height = 800;
        
        // Set minimap size
        minimapCanvas.width = 200;
        minimapCanvas.height = 150;
        
        // Game state
        const game = {
            score: 0,
            seeds: 0,
            currentArea: 'Sky',
            worldWidth: 4000,
            worldHeight: 4000
        };

        // Bird object (world coordinates)
        const bird = {
            x: game.worldWidth / 2,
            y: game.worldHeight / 2,
            vx: 0,
            vy: 0,
            speed: 3,
            maxSpeed: 8,
            size: 30,
            angle: 0,
            color: '#FFD700',
            wingPhase: 0
        };

        // Camera
        const camera = {
            x: bird.x - canvas.width / 2,
            y: bird.y - canvas.height / 2
        };

        // Areas/biomes
        const areas = [
            { name: 'Sky', x: 0, y: 0, color: '#87CEEB', clouds: true },
            { name: 'Forest', x: 1000, y: 500, color: '#228B22', trees: true },
            { name: 'Mountain', x: 2000, y: 0, color: '#8B7355', peaks: true },
            { name: 'Ocean', x: 500, y: 2000, color: '#1E90FF', waves: true },
            { name: 'Desert', x: 3000, y: 1500, color: '#EDC9AF', dunes: true },
            { name: 'Volcano', x: 3500, y: 500, color: '#8B0000', lava: true }
        ];

        // Seeds (collectibles)
        const seeds = [];
        function generateSeeds() {
            for (let i = 0; i < 100; i++) {
                seeds.push({
                    x: Math.random() * game.worldWidth,
                    y: Math.random() * game.worldHeight,
                    collected: false,
                    size: 8,
                    color: '#8B4513',
                    pulse: Math.random() * Math.PI * 2
                });
            }
        }
        generateSeeds();

        // Clouds
        const clouds = [];
        function generateClouds() {
            for (let i = 0; i < 50; i++) {
                clouds.push({
                    x: Math.random() * game.worldWidth,
                    y: Math.random() * game.worldHeight * 0.6,
                    size: 40 + Math.random() * 60,
                    speed: 0.2 + Math.random() * 0.3
                });
            }
        }
        generateClouds();

        // Trees
        const trees = [];
        function generateTrees() {
            for (let i = 0; i < 30; i++) {
                trees.push({
                    x: 1000 + Math.random() * 800,
                    y: 500 + Math.random() * 800,
                    size: 30 + Math.random() * 40,
                    color: '#654321'
                });
            }
        }
        generateTrees();

        // Mountains
        const mountainPeaks = [];
        function generateMountains() {
            for (let i = 0; i < 15; i++) {
                mountainPeaks.push({
                    x: 2000 + Math.random() * 1000,
                    y: 0 + Math.random() * 600,
                    size: 80 + Math.random() * 100,
                    snow: Math.random() > 0.5
                });
            }
        }
        generateMountains();

        // Ocean waves
        const waves = [];
        function generateWaves() {
            for (let i = 0; i < 20; i++) {
                waves.push({
                    x: 500 + Math.random() * 800,
                    y: 2000 + Math.random() * 800,
                    phase: Math.random() * Math.PI * 2,
                    speed: 0.05 + Math.random() * 0.05,
                    amplitude: 10 + Math.random() * 20
                });
            }
        }
        generateWaves();

        // Desert dunes
        const dunes = [];
        function generateDunes() {
            for (let i = 0; i < 25; i++) {
                dunes.push({
                    x: 3000 + Math.random() * 800,
                    y: 1500 + Math.random() * 800,
                    size: 60 + Math.random() * 80,
                    phase: Math.random() * Math.PI * 2
                });
            }
        }
        generateDunes();

        // Volcano particles
        const lavaParticles = [];
        function generateLavaParticles() {
            for (let i = 0; i < 30; i++) {
                lavaParticles.push({
                    x: 3500 + (Math.random() - 0.5) * 100,
                    y: 500 + Math.random() * 50,
                    vx: (Math.random() - 0.5) * 2,
                    vy: -Math.random() * 3 - 1,
                    life: Math.random(),
                    maxLife: 1,
                    size: 3 + Math.random() * 5
                });
            }
        }
        generateLavaParticles();

        // Input handling
        const keys = {};
        document.addEventListener('keydown', (e) => {
            keys[e.key.toLowerCase()] = true;
        });
        document.addEventListener('keyup', (e) => {
            keys[e.key.toLowerCase()] = false;
        });

        // Determine current area
        function getCurrentArea() {
            for (const area of areas) {
                const dx = bird.x - area.x;
                const dy = bird.y - area.y;
                const dist = Math.sqrt(dx * dx + dy * dy);
                if (dist < 500) {
                    return area;
                }
            }
            return areas[0]; // Default to Sky
        }

        // Update game
        function update() {
            // Handle input
            const boost = keys[' '] ? 1.5 : 1;
            let accelX = 0;
            let accelY = 0;

            if (keys['arrowleft'] || keys['a']) accelX = -1;
            if (keys['arrowright'] || keys['d']) accelX = 1;
            if (keys['arrowup'] || keys['w']) accelY = -1;
            if (keys['arrowdown'] || keys['s']) accelY = 1;

            // Normalize diagonal movement
            if (accelX !== 0 && accelY !== 0) {
                accelX *= 0.707;
                accelY *= 0.707;
            }

            // Apply acceleration
            bird.vx += accelX * 0.3 * boost;
            bird.vy += accelY * 0.3 * boost;

            // Apply friction
            bird.vx *= 0.92;
            bird.vy *= 0.92;

            // Limit speed
            const speed = Math.sqrt(bird.vx * bird.vx + bird.vy * bird.vy);
            if (speed > bird.maxSpeed * boost) {
                bird.vx = (bird.vx / speed) * bird.maxSpeed * boost;
                bird.vy = (bird.vy / speed) * bird.maxSpeed * boost;
            }

            // Update bird position (world coordinates)
            bird.x += bird.vx;
            bird.y += bird.vy;

            // Keep bird in world bounds
            bird.x = Math.max(bird.size, Math.min(game.worldWidth - bird.size, bird.x));
            bird.y = Math.max(bird.size, Math.min(game.worldHeight - bird.size, bird.y));

            // Update angle based on velocity
            if (speed > 0.1) {
                bird.angle = Math.atan2(bird.vy, bird.vx);
            }

            // Update camera to follow bird
            const targetX = bird.x - canvas.width / 2;
            const targetY = bird.y - canvas.height / 2;
            camera.x += (targetX - camera.x) * 0.1;
            camera.y += (targetY - camera.y) * 0.1;

            // Keep camera in world bounds
            camera.x = Math.max(0, Math.min(game.worldWidth - canvas.width, camera.x));
            camera.y = Math.max(0, Math.min(game.worldHeight - canvas.height, camera.y));

            // Check seed collection (bird is in world coordinates)
            seeds.forEach(seed => {
                if (!seed.collected) {
                    const dx = seed.x - bird.x;
                    const dy = seed.y - bird.y;
                    const dist = Math.sqrt(dx * dx + dy * dy);
                    if (dist < bird.size + seed.size) {
                        seed.collected = true;
                        game.seeds++;
                        game.score += 10;
                    }
                }
                seed.pulse += 0.1;
            });

            // Update current area
            const currentArea = getCurrentArea();
            game.currentArea = currentArea.name;

            // Update UI
            document.getElementById('score').textContent = game.score;
            document.getElementById('seeds').textContent = game.seeds;
            document.getElementById('area').textContent = game.currentArea;

            // Wing animation
            bird.wingPhase += 0.3;

            // Update lava particles
            lavaParticles.forEach(particle => {
                particle.x += particle.vx;
                particle.y += particle.vy;
                particle.vy += 0.1; // gravity
                particle.life -= 0.02;
                if (particle.life <= 0) {
                    particle.life = particle.maxLife;
                    particle.x = 3500 + (Math.random() - 0.5) * 100;
                    particle.y = 500 + Math.random() * 50;
                    particle.vx = (Math.random() - 0.5) * 2;
                    particle.vy = -Math.random() * 3 - 1;
                }
            });

            // Update waves
            waves.forEach(wave => {
                wave.phase += wave.speed;
            });

            // Update dunes
            dunes.forEach(dune => {
                dune.phase += 0.01;
            });
        }

        // Draw functions
        function drawBackground() {
            // Create smooth gradient background blending area colors
            const gradient = ctx.createLinearGradient(-camera.x, -camera.y, -camera.x + canvas.width, -camera.y + canvas.height);
            
            // Use current area color as base
            const currentArea = getCurrentArea();
            ctx.fillStyle = currentArea.color;
            ctx.fillRect(-camera.x, -camera.y, game.worldWidth, game.worldHeight);
            
            // Add subtle area markers with gradients
            areas.forEach(area => {
                const x = area.x - camera.x;
                const y = area.y - camera.y;
                if (x > -600 && x < canvas.width + 600 && y > -600 && y < canvas.height + 600) {
                    const gradient = ctx.createRadialGradient(x, y, 0, x, y, 500);
                    gradient.addColorStop(0, area.color + '80');
                    gradient.addColorStop(1, 'transparent');
                    ctx.fillStyle = gradient;
                    ctx.fillRect(x - 500, y - 500, 1000, 1000);
                }
            });
        }

        function drawClouds() {
            ctx.fillStyle = 'rgba(255, 255, 255, 0.8)';
            clouds.forEach(cloud => {
                const x = cloud.x - camera.x;
                const y = cloud.y - camera.y;
                if (x > -100 && x < canvas.width + 100 && y > -100 && y < canvas.height + 100) {
                    ctx.beginPath();
                    ctx.arc(x, y, cloud.size, 0, Math.PI * 2);
                    ctx.arc(x + cloud.size * 0.6, y, cloud.size * 0.8, 0, Math.PI * 2);
                    ctx.arc(x + cloud.size * 1.2, y, cloud.size * 0.9, 0, Math.PI * 2);
                    ctx.fill();
                }
                cloud.x += cloud.speed;
                if (cloud.x > game.worldWidth + 100) cloud.x = -100;
            });
        }

        function drawTrees() {
            trees.forEach(tree => {
                const x = tree.x - camera.x;
                const y = tree.y - camera.y;
                if (x > -50 && x < canvas.width + 50 && y > -100 && y < canvas.height + 100) {
                    // Trunk
                    ctx.fillStyle = tree.color;
                    ctx.fillRect(x - 5, y, 10, tree.size * 0.6);
                    // Leaves
                    ctx.fillStyle = '#228B22';
                    ctx.beginPath();
                    ctx.arc(x, y, tree.size * 0.5, 0, Math.PI * 2);
                    ctx.fill();
                }
            });
        }

        function drawMountains() {
            mountainPeaks.forEach(peak => {
                const x = peak.x - camera.x;
                const y = peak.y - camera.y;
                if (x > -200 && x < canvas.width + 200 && y > -200 && y < canvas.height + 200) {
                    ctx.fillStyle = peak.snow ? '#F5F5F5' : '#696969';
                    ctx.beginPath();
                    ctx.moveTo(x, y + peak.size);
                    ctx.lineTo(x + peak.size * 0.5, y);
                    ctx.lineTo(x + peak.size, y + peak.size);
                    ctx.closePath();
                    ctx.fill();
                }
            });
        }

        function drawWaves() {
            ctx.strokeStyle = 'rgba(255, 255, 255, 0.4)';
            ctx.lineWidth = 3;
            waves.forEach(wave => {
                const x = wave.x - camera.x;
                const y = wave.y - camera.y;
                if (x > -100 && x < canvas.width + 100 && y > -100 && y < canvas.height + 100) {
                    ctx.beginPath();
                    for (let i = 0; i < 200; i++) {
                        const px = x + i - 100;
                        const py = y + Math.sin((i / 20) + wave.phase) * wave.amplitude;
                        if (i === 0) ctx.moveTo(px, py);
                        else ctx.lineTo(px, py);
                    }
                    ctx.stroke();
                }
            });
        }

        function drawDunes() {
            dunes.forEach(dune => {
                const x = dune.x - camera.x;
                const y = dune.y - camera.y;
                if (x > -150 && x < canvas.width + 150 && y > -100 && y < canvas.height + 100) {
                    ctx.fillStyle = '#D2B48C';
                    ctx.beginPath();
                    ctx.arc(x, y, dune.size, 0, Math.PI * 2);
                    ctx.fill();
                    ctx.strokeStyle = '#C19A6B';
                    ctx.lineWidth = 2;
                    ctx.beginPath();
                    ctx.arc(x, y, dune.size * 0.8, 0, Math.PI);
                    ctx.stroke();
                }
            });
        }

        function drawLavaParticles() {
            lavaParticles.forEach(particle => {
                const x = particle.x - camera.x;
                const y = particle.y - camera.y;
                if (x > -50 && x < canvas.width + 50 && y > -50 && y < canvas.height + 50) {
                    const alpha = particle.life / particle.maxLife;
                    ctx.fillStyle = `rgba(255, ${100 + Math.floor(alpha * 155)}, 0, ${alpha})`;
                    ctx.beginPath();
                    ctx.arc(x, y, particle.size * alpha, 0, Math.PI * 2);
                    ctx.fill();
                }
            });
        }

        function drawSeeds() {
            seeds.forEach(seed => {
                if (!seed.collected) {
                    const x = seed.x - camera.x;
                    const y = seed.y - camera.y;
                    if (x > -20 && x < canvas.width + 20 && y > -20 && y < canvas.height + 20) {
                        const pulseSize = seed.size + Math.sin(seed.pulse) * 2;
                        ctx.fillStyle = seed.color;
                        ctx.beginPath();
                        ctx.arc(x, y, pulseSize, 0, Math.PI * 2);
                        ctx.fill();
                        ctx.strokeStyle = '#FFD700';
                        ctx.lineWidth = 1;
                        ctx.stroke();
                    }
                }
            });
        }

        function drawBird() {
            // Convert world coordinates to screen coordinates
            const screenX = bird.x - camera.x;
            const screenY = bird.y - camera.y;
            
            ctx.save();
            ctx.translate(screenX, screenY);
            ctx.rotate(bird.angle);

            // Body
            ctx.fillStyle = bird.color;
            ctx.beginPath();
            ctx.ellipse(0, 0, bird.size * 0.6, bird.size * 0.4, 0, 0, Math.PI * 2);
            ctx.fill();

            // Wings
            const wingAngle = Math.sin(bird.wingPhase) * 0.5;
            ctx.fillStyle = '#FFA500';
            ctx.beginPath();
            ctx.ellipse(-bird.size * 0.3, 0, bird.size * 0.5, bird.size * 0.3, wingAngle, 0, Math.PI * 2);
            ctx.fill();
            ctx.beginPath();
            ctx.ellipse(-bird.size * 0.3, 0, bird.size * 0.5, bird.size * 0.3, -wingAngle, 0, Math.PI * 2);
            ctx.fill();

            // Beak
            ctx.fillStyle = '#FF6347';
            ctx.beginPath();
            ctx.moveTo(bird.size * 0.5, 0);
            ctx.lineTo(bird.size * 0.8, -bird.size * 0.1);
            ctx.lineTo(bird.size * 0.8, bird.size * 0.1);
            ctx.closePath();
            ctx.fill();

            // Eye
            ctx.fillStyle = '#000';
            ctx.beginPath();
            ctx.arc(bird.size * 0.2, -bird.size * 0.1, 3, 0, Math.PI * 2);
            ctx.fill();

            ctx.restore();
        }

        function drawAreaMarkers() {
            areas.forEach(area => {
                const x = area.x - camera.x;
                const y = area.y - camera.y;
                if (x > -100 && x < canvas.width + 100 && y > -100 && y < canvas.height + 100) {
                    ctx.strokeStyle = 'rgba(255, 255, 255, 0.5)';
                    ctx.lineWidth = 3;
                    ctx.setLineDash([10, 10]);
                    ctx.strokeRect(x - 250, y - 250, 500, 500);
                    ctx.setLineDash([]);
                    ctx.fillStyle = 'rgba(255, 255, 255, 0.8)';
                    ctx.font = '20px Arial';
                    ctx.textAlign = 'center';
                    ctx.fillText(area.name, x, y - 270);
                }
            });
        }

        function drawMinimap() {
            // Clear minimap
            minimapCtx.fillStyle = 'rgba(0, 0, 0, 0.8)';
            minimapCtx.fillRect(0, 0, minimapCanvas.width, minimapCanvas.height);
            
            // Scale factor
            const scaleX = minimapCanvas.width / game.worldWidth;
            const scaleY = minimapCanvas.height / game.worldHeight;
            
            // Draw areas
            areas.forEach(area => {
                const x = area.x * scaleX;
                const y = area.y * scaleY;
                minimapCtx.fillStyle = area.color + '80';
                minimapCtx.fillRect(x - 10, y - 10, 20, 20);
                minimapCtx.fillStyle = 'white';
                minimapCtx.font = '8px Arial';
                minimapCtx.textAlign = 'center';
                minimapCtx.fillText(area.name.substring(0, 4), x, y - 12);
            });
            
            // Draw camera viewport
            minimapCtx.strokeStyle = 'yellow';
            minimapCtx.lineWidth = 2;
            minimapCtx.strokeRect(
                camera.x * scaleX,
                camera.y * scaleY,
                canvas.width * scaleX,
                canvas.height * scaleY
            );
            
            // Draw bird position
            minimapCtx.fillStyle = '#FFD700';
            minimapCtx.beginPath();
            minimapCtx.arc(bird.x * scaleX, bird.y * scaleY, 3, 0, Math.PI * 2);
            minimapCtx.fill();
        }

        // Main game loop
        function gameLoop() {
            ctx.clearRect(0, 0, canvas.width, canvas.height);
            
            // Draw world (order matters - background to foreground)
            drawBackground();
            drawClouds();
            drawWaves();
            drawTrees();
            drawMountains();
            drawDunes();
            drawLavaParticles();
            drawAreaMarkers();
            drawSeeds();
            drawBird();
            
            // Draw minimap
            drawMinimap();

            update();
            requestAnimationFrame(gameLoop);
        }

        // Start game
        gameLoop();
    </script>
</body>
</html>
